# Session Learnings - 2026-02-08

Automatically captured from Claude Code sessions.

---

## 15:35 - Always clarify session-only vs permanent installations

**What happened:** Set up Obsidian sync daemon to run in background during session. User had to ask if it would run automatically in future sessions. I only made it permanent after they asked - should have been proactive.

**Why it matters:** User assumed background services are permanent. Without asking, they would have expected it to work next session and been confused when it didn't. This creates false expectations and wastes time.

**Pattern applies to:**
- Background services/daemons
- Scheduled tasks or automation
- Tool installations
- Configuration changes that affect future sessions
- Anything that runs "in the background"

**Suggested fix:** When setting up anything that runs in the background or has session vs persistent modes, always ask proactively:
> "Do you want this to run just for this session, or automatically every time you start Claude Code?"

**Action:** Update relevant skills/workflows to include this prompt:
- `/dex-obsidian-setup` skill (Step 6 - sync daemon)
- Any future background service setup
- Add to general guidelines in CLAUDE.md under "Core Behaviors"

**Status:** pending

---

## [Time] - Always verify current date before creating date-based files

**What happened:** Created daily plan for 2026-02-09 when today is actually 2026-02-08. Also incorrectly assumed it was Saturday when user confirmed it's Sunday. Created duplicate/incorrect plan file without checking:
1. If a plan file already exists for today's date
2. What the actual current date is
3. What day of the week it actually is

**Why it matters:** Date-based files (daily plans, reviews, etc.) must use the correct date. Creating files with wrong dates causes confusion, duplicates, and breaks date-based workflows. Users rely on accurate dates for planning and tracking.

**Root cause:** Assumed date based on session log timestamp without verifying actual current date. Should have:
- Checked if plan file already exists for today
- Used Python's `datetime.now()` or similar to get actual date
- Verified day of week matches date
- Not assumed date progression from previous files

**Pattern applies to:**
- Daily plans (`/daily-plan`)
- Daily reviews (`/review`)
- Any date-based file creation
- Date calculations in workflows
- References to "today", "yesterday", "this week"

**Suggested fix:** Before creating any date-based file:
1. Get actual current date: `from datetime import date; today = date.today()`
2. Check if file already exists: `f"07-Archives/Plans/{today.strftime('%Y-%m-%d')}.md"`
3. Verify day of week: `today.strftime('%A')` to confirm
4. Use actual date in all references, never assume

**Action:** Update `/daily-plan` skill to:
- Always get current date programmatically
- Check for existing plan file before creating
- Verify day of week matches date
- Add date verification helper function

**Status:** ✅ completed
- ✅ Added date verification guidelines to CLAUDE.md → File Conventions
- ✅ Updated `/daily-plan` skill with Step 0: Date Verification (CRITICAL)
- ✅ Updated `/review` skill with Step 0: Date Verification
- ✅ Updated `/daily-review` skill with Step 0: Date Verification
- ✅ Updated `/week-plan` skill with Step 0: Date Verification (calculates Monday correctly)
- ✅ Updated `/week-review` skill with Step 0: Date Verification (calculates Monday correctly)
- ✅ Updated `/quarter-plan` skill with Step 0: Date Verification (calculates quarter correctly)
- ✅ Updated `/quarter-review` skill with Step 0: Date Verification (calculates quarter correctly)
- ✅ Updated `/journal` skill with Step 0: Date Verification
- ✅ All date-based routines now verify dates before creating files
- ✅ Added date verification checklist to `/create-skill` - prompts for date-based operations
- ✅ Added date verification checklist to `/anthropic-skill-creator` - includes template and guidance
- ✅ Future skill creation will automatically include date verification when dates are involved

---
